最近需要在电商平台集成微信支付，PC端扫码支付，移动端是H5支付，扫码支付，这个比较简单，主要是H5支付，要求非微信内浏览器支付。
看了官方文档发现，没有这种模式，只有扫码支付、刷卡支付、APP支付、公众号支付。
但是京东确可以通过移动端外部浏览器调起微信客户端支付，
原来H5非微信内浏览器支付模式，是要单独tengxun签订协议，申请支付权限的。

有了权限之后，这中模式的调用就比较简单了，大概流程：

    选购商品，生成支付订单；
    调用微信“统一下单”接口（接口中trade_type值为wap），获得预支付交易会话标识prepayid；
    按照微信H5支付协议生成deeplink，deeplink生成规则，按照官方文档来就可以了，比较简单，格式如下：
    weixin：//wap/payappid%3Dwxf5b5e87a6a0fde94%26noncestr%3D123%26package%3D123%26prepayid%3Dwx20141203201153d7bac0d2e10889028866%26sign%3D6AF4B69CCC30926F85770F900D098D64%26timestamp%3D1417511263
    通过a标签，可直接打开deeplink，然后调起微信支付；
    支付完成，处理业务逻辑

这种模式，虽然方便，但要做好安全方面的工作，防钓鱼，防刷单。
场景介绍

开发者文档
H5支付是指商户在微信客户端外的移动端网页展示商品或服务，用户在前述页面确认使用微信支付时，商户发起本服务呼起微信客户端进行支付。

主要用于触屏版的手机浏览器请求微信支付的场景。可以方便的从外部浏览器唤起微信支付。

提醒：开发测试前，请先联系微信支付同学配置H5支付的支付域名，支付域名详细说明见4.2接口流程说明。
微信官方体验链接：

http://wxpay.weixin.qq.com/mch/pay/h5.v2.php，请在微信外浏览器打开。